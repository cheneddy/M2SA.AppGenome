<?xml version="1.0" encoding="utf-8" ?>
<root xmlns="http://m2sa.net/Schema/SqlMapping">
  <module moduleName="TestRepository" dbName="TestDB">
    <sqlWrap  sqlName="Insert"  supportDBType="3">
      insert into TestEntity (Name, UpdateDate) values (@Name, @UpdateDate);
      select @@IDENTITY;
    </sqlWrap>
    <sqlWrap  sqlName="Update"  supportDBType="3">
      update TestEntity set Name=@Name,UpdateDate=@UpdateDate where TestId = @Id
    </sqlWrap>
    <sqlWrap  sqlName="DeleteById"  supportDBType="3">
      delete from TestEntity where TestId = @Id
    </sqlWrap>
    <sqlWrap  sqlName="SelectById"  supportDBType="3">
      select * from TestEntity where TestId = @Id
    </sqlWrap>
    <sqlWrap  sqlName="SelectAll"  supportDBType="3">
      select * from TestEntity
    </sqlWrap>
  </module>
  <module moduleName="TestSchema" dbName="TestDB">
    <sqlWrap  sqlName="CreateTable"  supportDBType="1">
      CREATE TABLE TestEntity (
      TestId int NOT NULL AUTO_INCREMENT ,
      Name varchar(32) NOT NULL ,
      UpdateDate datetime NOT NULL
      PRIMARY KEY (TestId)
      ) ENGINE=InnoDB;
    </sqlWrap>
  </module>  
</root>
